# 📊 Sora - ETF量化投资分析平台

> **专注中国市场ETF的数据驱动量化分析平台，助力智能投资决策**

[![Python](https://img.shields.io/badge/python-3.8+-blue.svg)](https://python.org)
[![License](https://img.shields.io/badge/license-MIT-green.svg)](LICENSE)
[![Status](https://img.shields.io/badge/status-v2.0-green.svg)](README.md)

---

## ✨ 平台优势

### 🎯 **专业ETF量化分析**
基于技术指标、趋势分析和风险评估的多维度量化模型，为中国市场ETF投资提供专业的数据支持。

### 📊 **全方位数据驱动**
- **精选标的**：预筛选100支优质中国市场ETF基金
- **实时监控**：基于AKShare API的准确数据源
- **智能分析**：RSI、MACD、布林带等多种技术指标
- **持久存储**：SQLite轻量化数据库，完整保存历史分析数据

### 🚀 **自动化运营**
- 每周定时数据更新和分析
- 批量ETF数据处理和缓存优化
- 完整的CLI命令行操作体验
- 灵活的配置管理和扩展能力

---

## 🌟 核心功能

### 📈 **量化投资信号**
```
基于多因子模型的投资信号生成：
🟢 强烈买入 (信号强度 > 0.8)
🟢 买入     (信号强度 > 0.6)
🟡 持有     (信号强度 0.4-0.6)
🔴 卖出     (信号强度 < 0.4)
🔴 强烈卖出 (信号强度 < 0.2)
```

### 💡 **技术指标分析**
- ✅ **趋势分析**：SMA、EMA移动平均线金叉死叉判断
- ✅ **动量分析**：RSI超买超卖、MACD背离信号识别
- ✅ **波动率分析**：布林带通道位置、价格偏离程度
- ✅ **成交量分析**：量价配合关系、异常放量检测

### 📋 **风险评估体系**
- 🎛️ **波动率计算**：年化波动率和历史VaR风险值
- 🎯 **回撤分析**：最大回撤和夏普比率评估
- ⚙️ **风险分级**：高/中/低风险等级自动评定
- 📝 **信心度评分**：基于数据质量的分析可信度

---

## 🚀 快速开始

### 环境要求
- Python 3.8+ 
- 网络连接（用于AKShare数据获取）

### 安装和配置
```bash
# 1. 克隆项目
git clone https://github.com/yourusername/sora.git
cd sora

# 2. 安装依赖
pip install -r requirements.txt

# 3. 初始化系统
python main.py init

# 4. 查看ETF配置
cat config/funds.yaml
```

### 核心命令
```bash
# 激活虚拟环境
source venv/bin/activate
# 分析单个ETF
python main.py analyze --etf 510300

# 分析所有ETF
python main.py analyze --all

# 生成投资报告
python main.py report --format excel

# 启动定时任务
python main.py schedule start

# 查看系统状态
python main.py status

# 历史回测
python main.py backtest --days 90
```

### 示例输出
```
🤖 Sora ETF量化分析平台 v2.0
===========================================
📊 正在分析 100 只ETF...

ETF代码    ETF名称              当前价格    投资信号    信心度    风险等级
--------------------------------------------------------------------------
510300    沪深300ETF           4.2156     🟢 买入     85%      中风险
159915    创业板ETF            2.8934     🟡 持有     72%      高风险  
512000    券商ETF              0.7845     🔴 卖出     89%      高风险

📈 技术指标汇总：
RSI: 32.5 (超卖) | MACD: 金叉 | 布林带: 下轨支撑
趋势: 上升 (强度: 0.75) | 支撑位: 4.10 | 阻力位: 4.35

💰 投资建议汇总：
🟢 强烈买入/买入：15 只 | 🟡 持有：65 只| 🔴 卖出/强烈卖出：20 只
```

---

## 🎨 技术架构

### 🧠 **量化分析引擎**
- 多因子技术指标计算（RSI、MACD、布林带等）
- 趋势识别和强度评估算法
- 风险度量和VaR计算模型
- 基于机器学习的信号强度优化

### ⚡ **数据处理层**
- AKShare API异步数据获取
- SQLite数据库持久化存储
- 智能缓存和批量处理优化
- 数据质量检查和异常处理

### 🔧 **系统集成**
- 模块化设计，松耦合架构
- 灵活的配置管理系统
- 完整的CLI命令接口
- 可扩展的调度任务框架

---

## 🛣️ ETF选股策略

### 行业分布 📊
- **科技板块** (25%)：创业板ETF、科创50ETF、芯片ETF等
- **金融板块** (20%)：券商ETF、银行ETF、保险ETF等  
- **消费板块** (15%)：消费ETF、食品饮料ETF等
- **医疗健康** (10%)：医疗ETF、创新药ETF等
- **能源材料** (20%)：新能源ETF、有色金属ETF等
- **宽基指数** (10%)：沪深300ETF、中证500ETF等

### 筛选标准 🎯
- **流动性要求**：日成交量 > 500万元
- **规模要求**：基金规模 > 10亿元
- **历史要求**：上市时间 > 1年
- **质量要求**：跟踪误差 < 0.5%

---

## 🔄 自动化工作流

### 每周定时任务 ⏰
```
周一 09:00 - 数据更新：获取最新一周ETF价格数据
周一 09:30 - 技术分析：计算所有技术指标和风险指标  
周一 10:00 - 信号生成：生成投资建议和风险评估
周一 10:30 - 报告输出：生成Excel/JSON格式分析报告
```

### 数据管理 📁
- **实时数据**：当日价格、成交量等基础数据
- **历史数据**：60天滚动历史价格用于技术指标计算
- **分析结果**：投资信号、风险评估等结果数据持久化
- **系统日志**：完整的操作日志和错误追踪记录

---

## 🏆 适用场景

### 💼 **量化投资者**
需要系统化的ETF分析工具，基于数据和模型做投资决策。

### 📊 **ETF研究人员**  
需要批量分析中国市场ETF，进行横向比较和趋势研究。

### ⏰ **机构投资经理**
需要定时监控ETF组合，及时捕获投资机会和风险信号。

### 🎯 **个人投资者**
希望借助量化工具提升ETF投资的专业性和系统性。

---

## 🤝 开发和扩展

### 📖 **技术文档**
- [系统设计方案](project.md) - 详细的架构设计和实现方案
- [配置指南](config/) - ETF列表和策略参数配置说明
- [API接口](src/) - 各模块接口文档和扩展指南

### 💻 **模块扩展**
- **新增ETF**：修改`config/funds.yaml`添加新的ETF代码
- **策略调优**：调整`config/settings.yaml`中的技术指标参数
- **数据源扩展**：在`src/data/fetcher.py`中集成新的数据接口
- **指标扩展**：在`src/analytics/calculator.py`中添加新的技术指标

### 🔧 **部署运维**
```bash
# 数据库备份
python main.py backup --path ./backup/

# 系统健康检查  
python main.py status --detail

# 日志查看
tail -f data/logs/sora.log

# 性能监控
python main.py stats
```

---

## ⚖️ 风险提示

> **投资有风险，量化模型仅供参考**
> 
> 本平台提供的技术分析和投资信号基于历史数据，不能保证未来表现。用户应结合自身投资目标、风险承受能力和市场判断做出投资决策。任何投资损失由用户自行承担。

---

## 📄 开源协议

本项目采用 [MIT License](LICENSE) 开源协议，欢迎参与贡献和改进。

---

<div align="center">

**📊 专业ETF量化分析，数据驱动投资决策！**

[立即开始](https://github.com/yourusername/sora) • [查看架构](project.md) • [配置ETF列表](config/funds.yaml)

</div>